
<!doctype html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Future of Coding History</title>
    <link rel="stylesheet" href="https://marianoguerra.github.io/future-of-coding-weekly/history/style.css">
  </head>
  <body>
    <div id="ui">
      <a id="logo" href="https://futureofcoding.org">
        <img src="https://marianoguerra.github.io/future-of-coding-weekly/history/logo.svg" alt="Future of Coding History">
      </a>
      <div id="small-logo">
        <a href="https://futureofcoding.org">Future of Coding</a> History
      </div>
      <div id="center">
        <h4>
          You are viewing archived messages.<br>
          Go <a href="https://marianoguerra.github.io/future-of-coding-weekly/history">here</a> to search the history.
        </h4>
      </div>
      <div id="actions"></div>
    </div>
    <div id="msgs-output">
<div id="2021-08-24T16:59:15.111Z" class="post"><span class="user">Luke Persola</span> <a href="#2021-08-24T16:59:15.111Z" class="date">2021-08-24 16:59:15</a> <div class="message"><p>What minimal, universal AST specifications exist? Which are best?</p>
<p>Software that deals with code in multiple languages usually needs to handle that code in a common format. But trying to capture complete language semantics for all languages in a single format seems hopeless. Instead, we‚Äôre faced with a trade-off between the variety of languages we represent and the thoroughness of the representation. On one end, text data is essentially entirely universal (caveat: encodings), but is very low level. On the other extreme, a given language compiler‚Äôs AST format fully represents semantics, but only for that one language. There are also some complete AST formats for families of closely related languages. Language-independent compiler IRs like the LLVM IR represent code in many different languages, but I think their usefulness is limited because they require irreversible transformations (they always would, right?).</p>
<p>I‚Äôm interested in the spot just above text: interface specifications that can represent code as basic data structures for nearly all languages, with little to no specification of semantics. So generally little more than a tree spec with room left for language-specific data.</p>
<p>I‚Äôm only aware a few specifications like that:</p>
<ul><li>as a baseline, s-expressions (not the textual format, just the concept of nested lists)</li><li>Babelfish‚Äôs <a href="https://github.com/bblfsh/documentation/blob/master/uast/uast-specification-v2.md">UAST</a> ‚Äî they lost their web domain, so presumed dead</li><li>unifiedjs‚Äôs <a href="https://github.com/syntax-tree/unist">unist</a> ‚Äî I‚Äôm thinking of adopting this for my structure editor because its ecosystem seems healthy and my project is in JavaScript, but to date it‚Äôs largely used for markup languages</li></ul><p>Do you know of any similar specifications? What are other projects using? Are you in a different spot on the trade-off spectrum?</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2021-08-24T22:22:47.115Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-24T22:22:47.115Z" class="date">2021-08-24 22:22:47</a> <div class="message"><p>On disk, I just store those data structures as JSON, but it could be any serialization language if you have a parser for it. unist (#3 above) has the same philosophy.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-25T00:23:03.116Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-25T00:23:03.116Z" class="date">2021-08-25 00:23:03</a> <div class="message"><p>This might be more relevant to interop: <a href="https://dion.systems/blog_0002_roadmap.html"></a><a href="https://dion.systems/blog_0002_roadmap.html">https://dion.systems/blog_0002_roadmap.html</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-25T01:43:11.116Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-25T01:43:11.116Z" class="date">2021-08-25 01:43:11</a> <div class="message"><p><a href="https://github.com/akkartik/mu">Kartik Agaram</a> nice, seems like their doing something in this zone, I‚Äôm going to hop on their discord</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-25T07:01:15.116Z" class="reply"><span class="user">Konrad Hinsen</span> <a href="#2021-08-25T07:01:15.116Z" class="date">2021-08-25 07:01:15</a> <div class="message"><p>A bit of personal experience in this space: In the first iteration of my <a href="https://github.com/khinsen/leibniz">Digital Scientific Notation Leibniz</a> (which is not a programming language, but still a formal language with syntax and semantics), I opted for an XML representation of the AST in order to permit processing Leibniz code more easily, without having to implement a parser. I picked XML over s-expressions because of better tooling support in various languages, and XML over JSON because of the richer structuring possibilities.</p>
<p>I had no intention of doing anything one could call universal, but then, XML or s-expressions may well be as close to universal as one can get: a tree structure. Now I wonder: is there anything beyond the tree structure that is universal about ASTs?</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="https://github.com/khinsen/leibniz">GitHub - khinsen/leibniz: A Digital Scientific Notation</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2021-08-25T07:36:26.117Z" class="reply"><span class="user">Kirill Chernyshov</span> <a href="#2021-08-25T07:36:26.117Z" class="date">2021-08-25 07:36:26</a> <div class="message"><p><a href="https://en.wikipedia.org/wiki/Concatenative_programming_language"></a><a href="https://en.wikipedia.org/wiki/Concatenative_programming_language">https://en.wikipedia.org/wiki/Concatenative_programming_language</a></p>
<p>might be relevant.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-25T13:27:56.117Z" class="reply"><span class="user">Konrad Hinsen</span> <a href="#2021-08-25T13:27:56.117Z" class="date">2021-08-25 13:27:56</a> <div class="message"><p>Indeed. Forth and Factor (the only concatenative languages I know a bit) pose the same challenge for a universal AST as Common Lisp with its reader macros: how to handle languages that permit extending the parser?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T02:37:18.000Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-26T02:37:18.000Z" class="date">2021-08-26 02:37:18</a> <div class="message"><p><strong>@Kirill Chernyshov</strong> is the parser extension Konrad mentioned what you were suggesting there? (I thought for a second you meant the ASTs in those langs aren‚Äôt well represented as trees?)</p>
<p><a href="https://khinsen.net/">Konrad Hinsen</a> what could I search for learn more about that?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T08:16:39.000Z" class="reply"><span class="user">Kirill Chernyshov</span> <a href="#2021-08-26T08:16:39.000Z" class="date">2021-08-26 08:16:39</a> <div class="message"><p>I meant to say that it is possible to have a stack of words and atoms as an another form of AST. I have been working on some sort of translator from clojure to concatenative language (in-house language based on joy) some time ago. And that was surprisingly nice.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T08:17:22.000Z" class="reply"><span class="user">Konrad Hinsen</span> <a href="#2021-08-26T08:17:22.000Z" class="date">2021-08-26 08:17:22</a> <div class="message"><p><strong>@Luke Persola</strong> Check out <a href="https://lisper.in/reader-macros">Reader Macros in Common Lisp</a>, <a href="https://docs.factorcode.org/content/article-parsing-words.html">Parsing words</a> from the Factor documentation, and <a href="https://forth-standard.org/standard/core/PARSE">PARSE</a> from the Forth standard. All three are extension mechanisms for the language's parser, implemented in the language itself. Which means that a complete parser for either of these languages must include an implementation of the entire language.</p>
<p>In Common Lisp, this is not much of an issue except if you want to write a code processing tool in a different language. There is a well-defined representation of code after parsing, which is the level at which macros work. Moreover, reader macros are a rare in practice.</p>
<p>For Forth and Factor, parser extensions are very common and basically mean that there is no notion of an AST at all. As an example, consider the <a href="https://docs.factorcode.org/content/article-xml.html">XML parser</a> in Factor. It allows you to embed XML documents in Factor code, not as a string but as a syntax extension. Superficially, Factor code is a just a sequence of space-delimited words, but with embedded XML, it starts to look very different.</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="https://lisper.in/reader-macros">Reader Macros in Common Lisp</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2021-08-26T18:27:27.002Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-26T18:27:27.002Z" class="date">2021-08-26 18:27:27</a> <div class="message"><p><a href="https://khinsen.net/">Konrad Hinsen</a> thanks!</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div><div id="2021-08-25T15:48:43.118Z" class="post"><span class="user">Kiril Videlov</span> <a href="#2021-08-25T15:48:43.118Z" class="date">2021-08-25 15:48:43</a> <div class="message"><p>Hey! New to the community here (just intro‚Äôd myself in <strong>#introduce-yourself</strong>). Anybody interested in version control and coding workflows? In particular, the way Git is used industry wide at software companies. Here are some observations:</p>
<ul><li>Despite the VCS being distributed, orgs use single source of truth</li><li>Units of collaboration are batches of change (PRs) and the smaller the better</li><li>Often code review is either nitpicking or shallow (‚ÄúLGTM‚Äù)</li><li>‚ÄúGetting‚Äù other people‚Äôs work-in-progress code (to help or just try it out) is laborious - (stashing own work, adding remote, fetching, checkout)</li></ul><p>I am really into the idea of tight feedback loops when developing. Starting from how we help one another, feedback from CI all the way to actually shipping small, incremental changes to prod. I think there is a lot of power that could be unlocked for devs by continuous sync-ing of code in the cloud. WDYT?</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2021-08-25T16:29:30.118Z" class="reply"><span class="user">Alexander Chichigin</span> <a href="#2021-08-25T16:29:30.118Z" class="date">2021-08-25 16:29:30</a> <div class="message"><p>Have you read <a href="https://tonsky.me/blog/reinventing-git-interface/"></a><a href="https://tonsky.me/blog/reinventing-git-interface/">https://tonsky.me/blog/reinventing-git-interface/</a> for starters? üôÇ</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="https://tonsky.me/blog/reinventing-git-interface/">Reinventing Git interface</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2021-08-25T19:38:30.118Z" class="reply"><span class="user">Kiril Videlov</span> <a href="#2021-08-25T19:38:30.118Z" class="date">2021-08-25 19:38:30</a> <div class="message"><p>Just did, thanks for sharing</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T02:46:07.000Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-26T02:46:07.000Z" class="date">2021-08-26 02:46:07</a> <div class="message"><p><strong>@Kiril Videlov</strong></p>
<p>By ‚Äúsingle source of truth‚Äù here you mean having a master branch?</p>
<blockquote><p>I think there is a lot of power that could be unlocked for devs by continuous sync-ing of code in the cloud.</p>
</blockquote>
<p>So I guess the current best way to do this is having a culture where people try to commit smaller PRs more frequently, and frequently rebase their local changes on top of the shared branch. Are you imaging automated that a bit more to we don‚Äôt have to rely on individuals as much?</p>
<p>(I just read about the 2-way syncing so I think I understand now,)</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T09:21:37.001Z" class="reply"><span class="user">Alexander Chichigin</span> <a href="#2021-08-26T09:21:37.001Z" class="date">2021-08-26 09:21:37</a> <div class="message"><p>The next funny point of reference about synchronization: <a href="https://research.chalmers.se/en/publication/232551"></a><a href="https://research.chalmers.se/en/publication/232551">https://research.chalmers.se/en/publication/232551</a> üôÇ</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="https://research.chalmers.se/en/publication/232551">Mysteries of Dropbox: Property-based Testing of a Distributed Synchronization Service</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2021-08-26T09:55:32.001Z" class="reply"><span class="user">Alexander Chichigin</span> <a href="#2021-08-26T09:55:32.001Z" class="date">2021-08-26 09:55:32</a> <div class="message"><p>Also check out 3-way merge problem: <a href="https://tahoe-lafs.org/%7Ezooko/badmerge/simple.html"></a><a href="https://tahoe-lafs.org/%7Ezooko/badmerge/simple.html">https://tahoe-lafs.org/%7Ezooko/badmerge/simple.html</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-26T09:56:21.001Z" class="reply"><span class="user">Alexander Chichigin</span> <a href="#2021-08-26T09:56:21.001Z" class="date">2021-08-26 09:56:21</a> <div class="message"><p>Seems like the right way forward is a "patch algebra" like Darcs or better yet Pijul. üôÇ</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T00:34:52.004Z" class="reply"><span class="user">taowen</span> <a href="#2021-08-28T00:34:52.004Z" class="date">2021-08-28 00:34:52</a> <div class="message"><p><a href="https://getsturdy.com/features/live"></a><a href="https://getsturdy.com/features/live">https://getsturdy.com/features/live</a> move local workspace to the cloud</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="https://getsturdy.com/features/live">Live Feedback | Sturdy</a></p>
</blockquote>
</div> <div class="files"></div></div></div></div><div id="2021-08-28T07:59:35.005Z" class="post"><span class="user">Alex</span> <a href="#2021-08-28T07:59:35.005Z" class="date">2021-08-28 07:59:35</a> <div class="message"><p>One thing I've wondered about version control is what a system would look like that focussed on getting the code back to a previous state rather than the pervasive model of linear development towards some goal</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2021-08-28T20:16:26.014Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-28T20:16:26.014Z" class="date">2021-08-28 20:16:26</a> <div class="message"><p>So I kept coming back to</p>
<blockquote><p>Normally people would just represent this change over time in the code itself</p>
</blockquote>
<p>That is, why use something related to VCS as we know it for this purpose? I was thinking ‚Äúwe only ever actually run the most recent version of the code‚Äù and then realized that‚Äôs not true when I thought of migrating a cluster: then you have multiple versions of the same code running at once and (potentially) interacting with each other. Your system has to be thought of as including these different versions. Tangental but maybe relevant.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T20:19:11.014Z" class="reply"><span class="user">Alex</span> <a href="#2021-08-28T20:19:11.014Z" class="date">2021-08-28 20:19:11</a> <div class="message"><p>It's not true when making music either. Making music is just as valid a use of code as making databases</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T20:20:37.014Z" class="reply"><span class="user">Alex</span> <a href="#2021-08-28T20:20:37.014Z" class="date">2021-08-28 20:20:37</a> <div class="message"><p>maybe more valid as we'll always make music.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T20:24:18.014Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-28T20:24:18.014Z" class="date">2021-08-28 20:24:18</a> <div class="message"><p>Yeah, I‚Äôm all for artistic programming</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T20:26:14.015Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-28T20:26:14.015Z" class="date">2021-08-28 20:26:14</a> <div class="message"><p>More generally:</p>
<ul><li>Drawing boundaries is an essential aspect of design. Boundaries allow you to make progress by making simplifying assumptions about a temporary area of concern. "Practical" programming often draws a box around "what's running in the computer right now". VCS conventionally lies outside that boundary.</li><li>Boundaries can also stifle creativity. Questioning boundaries is a super useful activity, as is happening in this thread.</li></ul></div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T21:58:04.034Z" class="reply"><span class="user">Alex</span> <a href="#2021-08-28T21:58:04.034Z" class="date">2021-08-28 21:58:04</a> <div class="message"><p>I think I disagree - creativity thrives off boundaries. Unbound creativity is noise</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T21:59:14.034Z" class="reply"><span class="user">Alex</span> <a href="#2021-08-28T21:59:14.034Z" class="date">2021-08-28 21:59:14</a> <div class="message"><p>Creativity is about pushing against and beyond boundaries but you still need the boundaries</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T22:00:11.034Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-28T22:00:11.034Z" class="date">2021-08-28 22:00:11</a> <div class="message"><p>I agree üôÇ</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-28T23:48:57.034Z" class="reply"><span class="user">Tak Tran</span> <a href="#2021-08-28T23:48:57.034Z" class="date">2021-08-28 23:48:57</a> <div class="message"><p>As a hack, I wonder if you could use Continuous Integration (eg, github actions, CircleCI) to generate visualisations/aural representations, as you commit code (maybe generate new branches for units of time if need be)‚Ä¶so you can see snapshots of your past in whatever visual/aural form you‚Äôd like, to better ‚Äúsee‚Äù where you want to scrub back in time to. So to jump to a point in time, you‚Äôd just do <code>git reset --hard [sha]</code> . Interactive rebasing could work too, as long as CI regenerates the snapshots</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-29T08:35:01.035Z" class="reply"><span class="user">Chris Knott</span> <a href="#2021-08-29T08:35:01.035Z" class="date">2021-08-29 08:35:01</a> <div class="message"><p>If you are talking about live coding music like an algorave then I think you want something that somehow projects the code into a low dimensional space. In this space, "commits" would just be waypoint markers that are set down. So you could mark where your verse/chorus is then explore freely and get some sense of when you were getting back close to where you were.</p>
<p>While this appears ridiculous at first I've seen some really impressive dimensional reduction things on Chris Olah's blog. If you also limit yourself in terms of starting dimensionality this might work and could really add something to a live coding performance to see the path that the performer took.</p>
<p>I went to an algorave where there was a performance by two people editing the same code. They had two cursors and their edits showed up in different colours. It meant you could see exactly how each of them was remixing each others lines and how they were both contributing. It really added to it.</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div><div id="2021-08-28T21:43:55.033Z" class="post"><span class="user">Kartik Agaram</span> <a href="#2021-08-28T21:43:55.033Z" class="date">2021-08-28 21:43:55</a> <div class="message"><p>I have a problem I'd appreciate thoughts on, particularly from aficionados of visual programming. But it requires some setup, if you'll bear with me.. (see thread)</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2021-08-28T21:44:01.033Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-28T21:44:01.033Z" class="date">2021-08-28 21:44:01</a> <div class="message"><p>My Mu project (<a href="https://github.com/akkartik/mu"></a><a href="https://github.com/akkartik/mu">https://github.com/akkartik/mu</a>) is building a computing stack up from machine code. The goal is partly to figure out why people don't do real prototyping more often. We all know we should throw the first one away, but we rarely do so. The hypothesis is that we'd be better about throwing the first one away if rewriting was less risky. By the time the prototyping phase ends, a prototype often tacitly encodes lots of information that is risky to rewrite.</p>
<p>To falsify this hypothesis, I want to make it super easy to turn any manual run into a reproducible automated test. If all the tacit knowledge had tests (stuff you naturally did as you built features), rewriting would become a non-risky activity, even if it still requires some effort.</p>
<p>Turning manual tests into automated ones requires carefully tracking dependencies and outlawing side-effects. In Mu, functions that modify the screen always take a screen object. That way I can start out with a manual test on the real screen, and easily swap in a fake screen to automate the test. Which brings us to my problem:</p>
<blockquote><p>How do you represent screens in a test?</p>
</blockquote>
<p>Currently I represent 2D screens as 2D arrays of characters. That is doable a lot of the time, but complicates many scenarios:</p>
<ul><li>Character attributes. If I want to check the foreground or background color, I currently use primitives like <code>check-screen-in-bg</code> which ignores spaces in a 2D array, but checks that non-spaces match the given background attribute. In practice this leads frequently to tests that separately check characters and then go back to check colors and other attributes.</li><li>Non-text. Checking pixels scales poorly, either line at a time or pixel at a time. I've tried ideas like separate buffers for text vs pixels, so that at least text continues to test easily.</li><li>Proportional fonts. Treating the screen as a grid of characters works only when each character is the same width. If widths differ I end up having to go back to treating characters as collections of pixels.</li><li>Unicode. A font like unifont (<a href="http://unifoundry.com/unifont/index.html"></a><a href="http://unifoundry.com/unifont/index.html">http://unifoundry.com/unifont/index.html</a>) is mostly fixed-width, but lots of graphemes (e.g. Chinese, Japanese, Korean, Indian) still require double-width to render. That takes us back to the problems of proportional fonts.</li></ul><p>Can people think of solutions to any of these bullets in a text-based language? Or a more powerful non-text representation?</p>
</div> <div class="attachments"><blockquote><p>üîó <a href="http://unifoundry.com/unifont/index.html">GNU Unifont Glyphs</a></p>
</blockquote>
</div> <div class="files"></div></div><div id="2021-08-29T08:53:58.035Z" class="reply"><span class="user">Chris Knott</span> <a href="#2021-08-29T08:53:58.035Z" class="date">2021-08-29 08:53:58</a> <div class="message"><p>My instinct would be to accept that you are ultimately going to be checking pixels and see how far you can get with that. For example, saving draw calls instead of raw pixel values, tracking dirty regions/some kind of copy-on-write. Combining some zealous saving of state with some amount of recalculating can be pretty efficient.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-29T13:10:18.035Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-29T13:10:18.035Z" class="date">2021-08-29 13:10:18</a> <div class="message"><p>Oh I'm actually not thinking about performance. I meant it's hard to make tests that are self evident when they're about pixel events. Extremely long lines, etc.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-29T20:26:37.036Z" class="reply"><span class="user">Luke Persola</span> <a href="#2021-08-29T20:26:37.036Z" class="date">2021-08-29 20:26:37</a> <div class="message"><p>So you‚Äôve already decided you need to test for all these things, right? You‚Äôre just trying to figure out the best way to model the state of the screen to cover all these cases?</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2021-08-29T20:43:03.036Z" class="reply"><span class="user">Kartik Agaram</span> <a href="#2021-08-29T20:43:03.036Z" class="date">2021-08-29 20:43:03</a> <div class="message"><p>Yeah. It's even just the syntax. In a complex app drawing to screen what's the cleanest way to represent desired screen state in the interface and get nice error messages (that use that representation) on test failure.</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div>
    </div>
  </body>
</html>
