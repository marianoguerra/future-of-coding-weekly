
<!doctype html>
<html>
  <head>
    <meta charset=utf-8>
    <title>Future of Coding History</title>
    <link rel="stylesheet" href="https://marianoguerra.github.io/future-of-coding-weekly/history/style.css">
  </head>
  <body>
    <div id="ui">
      <a id="logo" href="https://futureofcoding.org">
        <img src="https://marianoguerra.github.io/future-of-coding-weekly/history/logo.svg" alt="Future of Coding History">
      </a>
      <div id="small-logo">
        <a href="https://futureofcoding.org">Future of Coding</a> History
      </div>
      <div id="center">
        <h4>
          You are viewing archived messages.<br>
          Go <a href="https://marianoguerra.github.io/future-of-coding-weekly/history">here</a> to search the history.
        </h4>
      </div>
      <div id="actions"></div>
    </div>
    <div id="msgs-output">
<div id="2024-04-08T10:57:20.034Z" class="post"><span class="user">hamish todd</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T10:57:20.034Z" class="date">2024-04-08 10:57:20</a> <div class="message"><p>I'm thinking about spreadsheets. Has anyone ever made a convincing interface for  <em>defining functions</em> , using a spreadsheet interface?</p>
<p>(I am aware that you can define functions in most modern spreadsheets, but this requires you to go to a traditional coding interface. This is obviously cheating!)</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2024-04-08T13:20:54.069Z" class="reply"><span class="user">Ionu»õ G. Stan</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T13:20:54.069Z" class="date">2024-04-08 13:20:54</a> <div class="message"><p>I have come across this a few years back and found the idea intriguing, but never delved deep into it: <a href="https://web.engr.oregonstate.edu/~burnett/Reprints/icfp03.excelFunctions.pdf">web.engr.oregonstate.edu/~burnett/Reprints/icfp03.excelFunctions.pdf</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-08T14:46:15.463Z" class="reply"><span class="user">Kartik Agaram</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T14:46:15.463Z" class="date">2024-04-08 14:46:15</a> <div class="message"><p>I've always liked LoGlo's approach: <a href="https://loglo.app/2020-06-16">loglo.app/2020-06-16</a></p>
<p>Rows share a stack, which allows naturally for defining a function across multiple cells.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-08T15:10:17.771Z" class="reply"><span class="user">William Taysom</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T15:10:17.771Z" class="date">2024-04-08 15:10:17</a> <div class="message"><p>Loglo is like Forth and spreadsheets at the same time.</p>
<p>One thought is by default showing the formula (intension) and value (extension) of a cell at the same time.</p>
<p>Second thought is that we by default only allow one word (in the Forth sense) per cell.</p>
<p>Third thought.  Should be able to hide/fold up intermediate cells.</p>
<p>Final thought.  Then a definition is label for the  formula used in some folded up cells.  Using/copying the label doesn't relabel references like we're used to in spreadsheets, but also duplicates hidden/intermediate cells that we can unfold for viewing a trace.</p>
<p>Bonus.  Treat formulas acting on multiple cells respectably.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-08T15:33:30.214Z" class="reply"><span class="user">Kartik Agaram</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T15:33:30.214Z" class="date">2024-04-08 15:33:30</a> <div class="message"><p>I experimented with folding before: </p>
<p>In control flow: <a href="https://akkartik.name/post/2021-02-19-devlog">akkartik.name/post/2021-02-19-devlog</a></p>
<p>In function calls: <a href="https://archive.org/details/akkartik-2min-20201020">archive.org/details/akkartik-2min-20201020</a></p>
<p>The spreadsheet angle is not very obvious here, but I was very much influenced by LoGlo (and Brief).</p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://archive.org/details/akkartik-2min-20201020">2020-10-20: defining functions : Kartik Agaram : Free Download, Borrow, and Streaming : Internet Archive</a></p>
<p>A live-updating structured editor for a spreadsheet-inspired postfix language, built up from machine code, and intended to be taken apart.Main project page:...</p>
</blockquote>
</div> <div class="files"></div></div><div id="2024-04-08T17:18:44.994Z" class="reply"><span class="user">Joshua Horowitz</span> <a href="./?fromDate=2024-04-05&amp;toDate=2024-04-11&amp;channel=thinking-together&amp;filter=#2024-04-08T17:18:44.994Z" class="date">2024-04-08 17:18:44</a> <div class="message"><p>Sounds like you‚Äôre interested in ‚Äúsheet-defined functions‚Äù.</p>
<p>See <a href="https://www.youtube.com/watch?v=tfz4jdwsEaQ&amp;t=785s">youtube.com/watch?v=tfz4jdwsEaQ&amp;t=785s</a> (<a href="https://www.microsoft.com/en-us/research/uploads/prod/2020/04/joharizadeh_2020_gridlets.pdf">microsoft.com/en-us/research/uploads/prod/2020/04/joharizadeh_2020_gridlets.pdf</a>), <a href="https://www.youtube.com/watch?v=SbkCJX71UEk">youtube.com/watch?v=SbkCJX71UEk</a> (<a href="https://www.microsoft.com/en-us/research/uploads/prod/2018/11/elastic-sdfs-5bfd1d48e9dd2.pdf">microsoft.com/en-us/research/uploads/prod/2018/11/elastic-sdfs-5bfd1d48e9dd2.pdf</a>), etc.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-10T14:46:10.157Z" class="reply"><span class="user">hamish todd</span> <a href="./?fromDate=2024-04-07&amp;toDate=2024-04-13&amp;channel=thinking-together&amp;filter=#2024-04-10T14:46:10.157Z" class="date">2024-04-10 14:46:10</a> <div class="message"><p>Thank you very much folks! I wish "SDF" didn't already mean something to me</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div><div id="2024-04-13T09:07:51.756Z" class="post"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T09:07:51.756Z" class="date">2024-04-13 09:07:51</a> <div class="message"><p>Hi FoC Community üôÇ  I'm looking for something that i found a couple of years ago and apparently my fuzzy descriptions fail my zettelkasten or a search engine for that matter. I think I'm looking for a clojure talk in which someone presented also a tool. This tool used a UI of 2 or Three circles as a kind of number REPL which explained for example how the map function works in clojure. I hope that isn'T too vague if you know the name of the tool, that would be very cool. Thank you!!</p>
</div> <div class="attachments"></div> <div class="files"></div> <div class="replies"><div id="2024-04-13T11:41:54.562Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:41:54.562Z" class="date">2024-04-13 11:41:54</a> <div class="message"><p>are you looking for Maria clojure environment?</p>
<p><a href="https://youtu.be/CUBHrS4ZzO4?si=oW3dapUOoDTiM499">youtu.be/CUBHrS4ZzO4?si=oW3dapUOoDTiM499</a></p>
</div> <div class="attachments"><blockquote><p>üé• <a href="https://youtu.be/CUBHrS4ZzO4?si=oW3dapUOoDTiM499">clojureD 2018: "Maria: A beginner-friendly coding environment for Clojure" by Dave Liepmann</a></p>
<p><img src="https://i.ytimg.com/vi/CUBHrS4ZzO4/hqdefault.jpg" alt="clojureD 2018: &quot;Maria: A beginner-friendly coding environment for Clojure&quot; by Dave Liepmann"></p>
</blockquote>
</div> <div class="files"></div></div><div id="2024-04-13T11:42:39.974Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:42:39.974Z" class="date">2024-04-13 11:42:39</a> <div class="message"><p><a href="https://www.maria.cloud/">maria.cloud</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:46:20.019Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:46:20.019Z" class="date">2024-04-13 11:46:20</a> <div class="message"><p>No it wasn‚Äôt maria </p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:53:35.875Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:53:35.875Z" class="date">2024-04-13 11:53:35</a> <div class="message"><p>oh, ok, I was sure it was. because demo includes circles</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:53:47.117Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:53:47.117Z" class="date">2024-04-13 11:53:47</a> <div class="message"><p>but maybe another tool I have in mind</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:54:27.549Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:54:27.549Z" class="date">2024-04-13 11:54:27</a> <div class="message"><p><a href="https://vlojure.io/">vlojure.io</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:55:16.715Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:55:16.715Z" class="date">2024-04-13 11:55:16</a> <div class="message"><p>yeah should be it I hope</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:56:39.131Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:56:39.131Z" class="date">2024-04-13 11:56:39</a> <div class="message">
</div> <div class="attachments"></div> <div class="files"><p><img src="http://history.futureofcoding.org/history/msg_files/F06/F06UUR2FQP2.png" alt="–ó–Ω—ñ–º–æ–∫ –µ–∫—Ä–∞–Ω–∞ 2024-04-13 –æ 13.56.00.png"></p>
</div></div><div id="2024-04-13T11:59:12.385Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:59:12.385Z" class="date">2024-04-13 11:59:12</a> <div class="message">
</div> <div class="attachments"></div> <div class="files"><p><img src="http://history.futureofcoding.org/history/msg_files/F06/F06U8FLELSY.png" alt="image.png"></p>
</div></div><div id="2024-04-13T11:59:14.034Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:59:14.034Z" class="date">2024-04-13 11:59:14</a> <div class="message"><p>YES!!!</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:59:21.942Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:59:21.942Z" class="date">2024-04-13 11:59:21</a> <div class="message"><p>thats the one I was loking for</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T11:59:31.203Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T11:59:31.203Z" class="date">2024-04-13 11:59:31</a> <div class="message"><p>thank you so much <a href="https://twitter.com/o_kryvonos">Oleksandr Kryvonos</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T12:04:46.388Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T12:04:46.388Z" class="date">2024-04-13 12:04:46</a> <div class="message"><p>welcome, alias for my search (in my brain) is ‚Äúvisual clojure == Vlojure‚Äù also it was on reddit in a /nosyntax  sub-reddit</p>
<p><a href="https://www.reddit.com/r/nosyntax/comments/pxwkjx/vlojure_a_new_way_to_write_clojurescript/">reddit.com/r/nosyntax/comments/pxwkjx/vlojure_a_new_way_to_write_clojurescript</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T12:07:51.369Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T12:07:51.369Z" class="date">2024-04-13 12:07:51</a> <div class="message"><p>also I was impressed/jealous that this tool was way more cooler than mine üôÇ</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T12:10:54.650Z" class="reply"><span class="user">Oleksandr Kryvonos</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T12:10:54.650Z" class="date">2024-04-13 12:10:54</a> <div class="message"><p><strong>@Ella Hoeppner</strong> - the author of this tool is here btw</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T15:43:49.780Z" class="reply"><span class="user">Ivan Reese</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T15:43:49.780Z" class="date">2024-04-13 15:43:49</a> <div class="message"><p>She also appears on this episode: <a href="https://futureofcoding.org/episodes/054">futureofcoding.org/episodes/054</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T21:42:53.383Z" class="reply"><span class="user">Ella Hoeppner</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T21:42:53.383Z" class="date">2024-04-13 21:42:53</a> <div class="message"><p>glad to hear people are still interested in vlojure after so long! üòÑ</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-13T21:48:30.278Z" class="reply"><span class="user">Ella Hoeppner</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T21:48:30.278Z" class="date">2024-04-13 21:48:30</a> <div class="message"><p>fwiw I've been working lately on a replacement for vlojure, here's a sneak peak. This time it's built with rust and wgpu, so it'll be much more cross-platform. Here it's running as a native app on my mac, but will also be able to deploy for the web, and mobile shouldn't be too difficult either. Plus the UI is shaping up to be a lot smoother than the original vlojure, and performance doesn't drop once your program gets large (which was a big issue with the original vlojure). And this time I'm making it much more language-agnostic, such that it can be used with many different languages, rather than just clojure/script.</p>
</div> <div class="attachments"></div> <div class="files"><p>üé• <a href="http://history.futureofcoding.org/history/msg_files/F06/F06U6MUL8Q2.mov">Screen Recording 2024-04-13 at 5.36.46 PM.mov</a></p>
</div></div><div id="2024-04-13T21:57:52.550Z" class="reply"><span class="user">Ivan Reese</span> <a href="./?fromDate=2024-04-10&amp;toDate=2024-04-16&amp;channel=thinking-together&amp;filter=#2024-04-13T21:57:52.550Z" class="date">2024-04-13 21:57:52</a> <div class="message"><p>That's super cool</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T18:49:19.326Z" class="reply"><span class="user">Andreas S.</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T18:49:19.326Z" class="date">2024-04-14 18:49:19</a> <div class="message"><p>I was talking to a friend who is going to be a computer science teacher, we talked about the Mindstorms book and the topic of LOGO/Lisp and clojure came up. After the talk I send him some notes from my Zettelkasten. I knew I remembered vlojure but couldn‚Äôt remember the name. And so I came here :) and we even might get and improved version üëç üòÉ </p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div><div id="2024-04-14T12:34:59.807Z" class="post"><span class="user">Dany</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T12:34:59.807Z" class="date">2024-04-14 12:34:59</a> <div class="message"><p>I wrote a blog post about constant data in PL. Which is kind of curious in text based PL and a place where more visual approaches can really shine. <a href="https://medium.com/@bitteldany/where-does-constant-data-go-b650338b2ee9">medium.com/@bitteldany/where-does-constant-data-go-b650338b2ee9</a></p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://medium.com/@bitteldany/where-does-constant-data-go-b650338b2ee9">Where does constant data go?</a></p>
<p>All of the programming languages I know make an interesting distinction, between two groups of constants, depending on type.</p>
</blockquote>
</div> <div class="files"></div> <div class="replies"><div id="2024-04-14T13:00:05.126Z" class="reply"><span class="user">Jarno Montonen</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T13:00:05.126Z" class="date">2024-04-14 13:00:05</a> <div class="message">
<blockquote><p>We would need to execute the parsing during compilation, but as far as I know no programming language allows allocation during compile time execution.</p>
</blockquote>
<p>You could just include the parsed data as a const byte array, which basically all compiled languages allow. The tradeoff is of course in increasing the size of the binary, having less control over when to pay the cost for loading the data into memory (and when to unload it), and increased stress on instruction cache. Anyway, this has been quite common as an optimization in game development.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T13:25:45.309Z" class="reply"><span class="user">Stefan Lesser</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T13:25:45.309Z" class="date">2024-04-14 13:25:45</a> <div class="message"><p>You say you are using a ‚ÄúC-like language‚Äù for the examples, so I‚Äôm not sure what the  <code>string</code>  type of that language translates to. But in C the trouble with const is that you either point to a constant value, and the pointer can still change, or you declare a constant pointer to a variable, and you can‚Äôt change the pointer, but you can change the value. Both of these need to be held in a read/write segment and I assume that is probably why your example copies the string contents o the heap?</p>
<p>In C you can use double const to explicitly have a constant pointer to a constant value, but I have no idea how that plays out when you compile it and no means to try it right now. I wouldn‚Äôt be too surprised if that also does something unexpected, given that C compilers have a lot of wiggle room in terms of ‚Äúimplementation details‚Äù and ‚Äúundefined behavior‚Äù.</p>
<p>Swift has <a href="https://developer.apple.com/documentation/swift/staticstring">an explicit </a> <code>StaticString</code> <a href="https://developer.apple.com/documentation/swift/staticstring"> type</a> that is used for literals and enables all kinds of compiler optimizations and compile-time shenanigans, like <a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/macros/">macros that are type-checked proper Swift code run at compile-time</a>.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T13:38:06.306Z" class="reply"><span class="user">Stefan Lesser</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T13:38:06.306Z" class="date">2024-04-14 13:38:06</a> <div class="message"><p>There‚Äôs also an  <code>~_*ExpressibleBy‚Ä¶Literal*_~</code>  protocol, which I guess would enable you to implement your own types with their own custom binary representations that can be specified as literals in the code and read and converted at compile time while treated as constants. How useful that really is though, I‚Äôm not sure.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T14:29:21.228Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T14:29:21.228Z" class="date">2024-04-14 14:29:21</a> <div class="message"><p><strong>@Jarno Montonen</strong> , that's what I'm doing in that example, or do you mean to include the binary byte stream as a const byte array? Then you'd need to escape all special characters and copy paste from a binary file? Or how would you go about it? That sounds like a dependency with extra steps.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T14:30:23.742Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T14:30:23.742Z" class="date">2024-04-14 14:30:23</a> <div class="message"><p><a href="https://twitter.com/stefanlesser">Stefan Lesser</a> Should have said C syntax, sorry. With string I'm eyeing c++ std::string. It does a copy when constructed from const char<em>. I assume swift would do the same. As far as I can tell StaticString is swifts way of doing const char</em>. ExpressibleBy.. is syntactic sugar for constructors. What I want is StaticFont, StaticImage, StaticGraph ... üôÇ</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T14:36:35.418Z" class="reply"><span class="user">Jarno Montonen</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T14:36:35.418Z" class="date">2024-04-14 14:36:35</a> <div class="message"><p>Yes, I meant the binary representation of the results of the parsing. It could be a prebuild step to do the parsing and write the prebaking code into a codefile. You wouldn't need to escape anything. It could just appear as initialization of a byte array in the source code.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T14:45:41.941Z" class="reply"><span class="user">Jarno Montonen</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T14:45:41.941Z" class="date">2024-04-14 14:45:41</a> <div class="message"><p>The actual implementation would depend on a language, but essentially you'd then point a pointer of correct type to the beginning of the bytes. But you could also just have the prebaking step generate the actual source code that initializes the objects/structs that represent the parse results. So say you're reading in a json "root: { prop1: 23, prop2: "test" }. Your baking step would generate code "static readonly ROOT = new Root {Prop1 = 23, Prop2 = "test" }. I suppose it would depend on the language how much of this ends up being just loading the binary (on program startup) and how much is left to runtime.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T16:07:33.041Z" class="reply"><span class="user">Kartik Agaram</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T16:07:33.041Z" class="date">2024-04-14 16:07:33</a> <div class="message"><p>I like the insight that declarative programming is entirely working with constants.</p>
<p>There  <em>are</em>  ways to convert constants to a representation that the computer can just copy from disk into RAM. It's not clear to me why we don't do that. It's non-trivial (e.g. making sure references to the same object don't serialize to two copies of it) but definitely not rocket science. Looking forward to seeing where you go with this.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T17:59:15.806Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T17:59:15.806Z" class="date">2024-04-14 17:59:15</a> <div class="message">
<blockquote><p>We would need to execute the parsing during compilation, but as far as I know no programming language allows allocation during compile time execution.</p>
</blockquote>
<p>Did you look at Zig?</p>
<ul><li>Call any function at compile-time.</li></ul><p><a href="https://ziglang.org">ziglang.org</a></p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T18:07:35.801Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T18:07:35.801Z" class="date">2024-04-14 18:07:35</a> <div class="message"><p>Anyway, what code a compiler accepts in a compile-time context shouldn't be limiting you. There are many ways other ways to execute arbitrary code on compile-time. Traditionally you run a tool like Make (or a more modern option), which lets you run any program to process an input file and generate an output file that is used by the next tool. The tool can either generate a blob that you can include in your program to get untyped data, or a source file you can include to get typed data.</p>
<p>Rust has its own tool Cargo that runs the file 'build.rs' for this purpose, but it also allows procedural macros, that are libraries loaded by the compiler that can run arbitrary code.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-14T18:11:32.097Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-11&amp;toDate=2024-04-17&amp;channel=thinking-together&amp;filter=#2024-04-14T18:11:32.097Z" class="date">2024-04-14 18:11:32</a> <div class="message">
<blockquote><p>In conclusion, declarative programming is nothing other than defining constants in a text form.</p>
</blockquote>
<p>Same goes for non-declarative languages. Think of Lisp.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:04:17.982Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:04:17.982Z" class="date">2024-04-15 06:04:17</a> <div class="message"><p><strong>@Fredrik</strong> Thanks for bringing up zig, it has indeed nice comptime features. Looking into it now, it seems to allow allocation into the data segment and even reading a file. This is a good general solution. (I will add this to the blog post). Data structures like a graph that contains pointers to itself will need some extra work though.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:05:51.655Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:05:51.655Z" class="date">2024-04-15 06:05:51</a> <div class="message"><p><strong>@Fredrik</strong> You kind of proof my point. Why is it so simple to define a constant integer, yet if I want for example a constant list of integers I have to go through all those extra steps you outlined.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:13:37.532Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:13:37.532Z" class="date">2024-04-15 06:13:37</a> <div class="message"><p>That's a good point. It personally bothers me a lot that Rust has five different features that do the same thing, with five different limitations. ( <em>1.</em>  generics,  <em>2.</em>  const evaluation,  <em>3.</em>  declarative macros,  <em>4.</em>  procedural macros,  <em>5.</em>  build scripts) I prefer to have one good way to do it, like in Zig.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:22:14.408Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:22:14.408Z" class="date">2024-04-15 06:22:14</a> <div class="message">
<blockquote><p>Data structures like a graph that contains pointers to itself will need some extra work though.</p>
</blockquote>
<p>Looking at Rust, const data can contain references to const data as long as they are not circular. I don't really care though. I never put references in my const data, but instead put indexes that are relative to the base pointer of the const data. A reference is 8 bytes, so I don't want to have that in const data. An index is 1, 2 or 4 bytes depending on the size of the data. Sometimes I've even packed a 12-bit index and a 4-bit length in two bytes.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:31:50.011Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:31:50.011Z" class="date">2024-04-15 06:31:50</a> <div class="message"><p><strong>@Fredrik</strong> Oh really? So (in rust) the pointers inside the data segment get relocated when the executable is loaded? How does the loader know whats data and whats pointers? The linker would need to add that to the relocation data?</p>
<p>I agree data structures with indices are the way to go. It is also easier to serialize, clone and you can (ideally) allocate everything in single block. You cannot however easily extend, join, reuse part of it.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T06:45:56.337Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T06:45:56.337Z" class="date">2024-04-15 06:45:56</a> <div class="message"><p>I suppose they get relocated. I made an example, but don't know how to make Compiler Explorer show the relocation table. Relocations would be another reason to prefer indexes, as the relocation table adds a number of extra bytes for each pointer, and also slows down loading of the executable, and also takes up memory for the relocated copy of the const data, as opposed mapping the memory directly to the executable file.</p>
<p><a href="https://rust.godbolt.org/z/8YvfPr5G9">rust.godbolt.org/z/8YvfPr5G9</a></p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://rust.godbolt.org/z/8YvfPr5G9">Compiler Explorer - Rust (rustc 1.76.0)</a></p>
<p>#[derive(Clone, Copy)]
pub struct LinkedList&amp;lt;'a, T&amp;gt; {
 next: Option&amp;lt;&amp;amp;'a Self&amp;gt;,
 value: T,
}</p>
</blockquote>
<p>const A: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: None,
 value: 42,
};</p>
<p>const B1: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 13,
};</p>
<p>const B2: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 0,
};</p>
<p>#[no_mangle]
fn peek() -&amp;gt; LinkedList&amp;lt;'static, u32&amp;gt; {
 B2
}</p>
</div> <div class="files"></div></div><div id="2024-04-15T07:23:37.436Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T07:23:37.436Z" class="date">2024-04-15 07:23:37</a> <div class="message"><p>Ok I'm confused. Does this create a linked list inside the data segment or.. 3 list segments and links them on startup. The assembly would suggest the first, but could also be the latter, sadly it doesn't show what's actually in the data.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T07:25:43.313Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T07:25:43.313Z" class="date">2024-04-15 07:25:43</a> <div class="message"><p>The three nodes are in the data segment. The disassembly shows that the function copies a node right out of the data segment without any further processing, showing that the pointer is already correct.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T07:35:56.415Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T07:35:56.415Z" class="date">2024-04-15 07:35:56</a> <div class="message"><p>On second thought, the disassembly of the function doesn't show that clearly enough, due to optimization. Let's instead return a reference to the node, so the constant data cannot be inlined. Now you can also see the relocation being there in the form of a label in the data in the assembly.</p>
<p><a href="https://rust.godbolt.org/z/nYxh47def">rust.godbolt.org/z/nYxh47def</a></p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://rust.godbolt.org/z/nYxh47def">Compiler Explorer - Rust (rustc 1.76.0)</a></p>
<p>#[derive(Clone, Copy)]
pub struct LinkedList&amp;lt;'a, T&amp;gt; {
 next: Option&amp;lt;&amp;amp;'a Self&amp;gt;,
 value: T,
}</p>
</blockquote>
<p>const A: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: None,
 value: 42,
};</p>
<p>const B1: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 13,
};</p>
<p>const B2: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 0,
};</p>
<p>#[no_mangle]
fn peek() -&amp;gt; &amp;amp;'static LinkedList&amp;lt;'static, u32&amp;gt; {
 &amp;amp;B1
}</p>
</div> <div class="files"></div></div><div id="2024-04-15T07:40:40.605Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T07:40:40.605Z" class="date">2024-04-15 07:40:40</a> <div class="message"><p>I see it know, even better if you return B2 and link to B1 inside B2.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-15T07:42:21.321Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-12&amp;toDate=2024-04-18&amp;channel=thinking-together&amp;filter=#2024-04-15T07:42:21.321Z" class="date">2024-04-15 07:42:21</a> <div class="message"><p>You can also do away with the function entirely and make the data show up in Compiler Explorer by declaring any entry points as  <code>pub static</code>  instead of  <code>const</code> .</p>
<p><a href="https://rust.godbolt.org/z/o9qc8d5Y4">rust.godbolt.org/z/o9qc8d5Y4</a></p>
</div> <div class="attachments"><blockquote><p>üìù <a href="https://rust.godbolt.org/z/o9qc8d5Y4">Compiler Explorer - Rust (rustc 1.76.0)</a></p>
<p>#[derive(Clone, Copy)]
pub struct LinkedList&amp;lt;'a, T&amp;gt; {
 next: Option&amp;lt;&amp;amp;'a Self&amp;gt;,
 value: T,
}</p>
</blockquote>
<p>pub static A: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: None,
 value: 42,
};</p>
<p>pub static B1: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 13,
};</p>
<p>pub static B2: LinkedList&amp;lt;u32&amp;gt; = LinkedList {
 next: Some(&amp;amp;A),
 value: 0,
};</p>
<p>pub static C: &amp;amp;LinkedList&amp;lt;u32&amp;gt; = &amp;amp;B2;</p>
</div> <div class="files"></div></div><div id="2024-04-16T04:23:22.418Z" class="reply"><span class="user">Dany</span> <a href="./?fromDate=2024-04-13&amp;toDate=2024-04-19&amp;channel=thinking-together&amp;filter=#2024-04-16T04:23:22.418Z" class="date">2024-04-16 04:23:22</a> <div class="message"><p>Thanks for all the feedback, I updated the blog post.. hopefully also making it more clear, what I actually want to see.</p>
</div> <div class="attachments"></div> <div class="files"></div></div><div id="2024-04-16T07:16:46.020Z" class="reply"><span class="user">Fredrik</span> <a href="./?fromDate=2024-04-13&amp;toDate=2024-04-19&amp;channel=thinking-together&amp;filter=#2024-04-16T07:16:46.020Z" class="date">2024-04-16 07:16:46</a> <div class="message"><p>Those are some interesting thoughts you have added. It seems like you want to see something like the Smalltalk system, where everything is an object, and you can use one tool to edit and object, such as a drawing or a document, and then reuse the same object in your programming. The Smalltalk system solved this by not having a compile-time, but instead doing all programming in a live system. When you want to deploy it on another machine, you save an image of the heap, and that's const data that you can run on another machine without doing any processing on startup. This is what Alan Kay calls  <em>real OOP</em> . You can find videos of Alan Kay and Dan Ingalls demonstrating it.</p>
</div> <div class="attachments"></div> <div class="files"></div></div></div></div>
    </div>
  </body>
</html>
